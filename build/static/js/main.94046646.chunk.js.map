{"version":3,"sources":["assets/images/bckgrnd.jpg","serviceWorker.js","store/store.js","store/action-types.js","store/reducer.js","withRoot.js","components/Auth/Signout.js","components/Header.js","config.js","client.js","components/Pin/NoContent.js","components/Pin/CreatePin.js","graphql/mutations.js","components/Pin/PinContent.js","components/Blog.js","components/Map.js","graphql/queries.js","pages/App.js","components/Auth/Login.js","pages/Splash.js","ProtectedRoute.js","index.js"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","Store","createContext","currentUser","isAuth","draft","mapTheme","pins","currentPin","LOGIN_USER","IS_LOGGED_IN","SIGNOUT_USER","SET_THEME","CREATE_DRAFT","UPDATE_DRAFT","REMOVE_DRAFT","GET_PINS","CREATE_PIN","SET_PIN","DELETE_PIN","reducer","state","action","type","Object","objectSpread","payload","latitude","longitude","newPin","prevPins","filter","pin","_id","concat","toConsumableArray","filteredPins","theme","createMuiTheme","palette","secondary","lime","primary","light","grey","main","dark","withRoot","Component","props","react_default","a","createElement","styles","CssBaseline_default","withStyles","root","cursor","display","buttonText","color","marginLeft","buttonIcon","_ref","classes","dispatch","useContext","google_login","onLogoutSuccess","render","_ref2","onClick","className","ExitToApp_default","flexGrow","grow","alignItems","right","icon","marginRight","spacing","unit","fontSize","mobile","picture","height","borderRadius","AppBar_default","position","Toolbar_default","Terrain_default","Typography_default","component","variant","noWrap","name","src","alt","Auth_Signout","config","URL","CLIENT_ID","MAP_TOKEN","IMG_CLOUD_NAME","IMG_CLOUD_URL","ADMIN_ID","useClient","_useState","useState","_useState2","slicedToArray","token","setToken","useEffect","tokenId","gapi","auth2","getAuthInstance","get","getAuthResponse","id_token","GraphQLClient","headers","authorization","marginTop","flexDirection","justifyContent","margin","Explore_default","gutterBottom","form","paddingBottom","contentField","width","input","alignCenter","iconLarge","leftIcon","rightIcon","button","marginBottom","textField","_useContext","title","setTitle","_useState3","_useState4","image","setImage","_useState5","_useState6","content","setContent","_useState7","_useState8","eventDate","setEventDate","_useState9","_useState10","submiting","setSubmiting","client","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","e","_state$draft","url","preparedData","_ref3","createPin","wrap","_context","prev","next","preventDefault","handleImageUpload","sent","request","handleDiscardDraft","t0","console","error","stop","this","_x","apply","arguments","_ref4","_callee2","data","res","_context2","FormData","append","axios","post","abrupt","LandscapeOutlined_default","TextField_default","label","placeholder","onChange","target","value","accept","id","files","htmlFor","Button_default","size","style","AddAPhotoTwoTone_default","multiline","rows","fullWidth","defaultValue","format","Date","InputLabelProps","shrink","Clear_default","disabled","trim","SaveTwoTone_default","padding","textAlign","text","minWidth","maxWidth","maxHeight","overflowY","backgroundColor","footer","rootMobile","overflowX","BlogContent","NoContent","CreatePin","PinContent","getUserTheme","localStorage","getItem","changeTheme","event","setItem","index_es","Radio_default","checked","aria-label","INITIAL_VIEWPORT","zoom","navigationControl","top","left","deleteIcon","popupImage","objectFit","popupTab","getPins","viewport","setViewport","userPosition","setUserPosition","getUserPosition","popup","setPopup","navigator","geolocation","getCurrentPosition","_position$coords","coords","handleDeletePin","pinToDelete","_ref5","deletePin","pinId","eventMarker","diffDays","Math","round","abs","getTime","highlightPinColor","esm","key","offsetLeft","offsetTop","Place_default","handleSelectedPin","assign","mapboxApiAccessToken","mapStyle","onViewportChange","_ref6","lngLat","leftButton","log","_lngLat","Home_default","NotListedLocation_default","map","anchor","closeOnClick","onClose","toFixed","author","DeleteTwoTone_default","Cancel_default","components_Blog","components_Header","components_Map","backgroundImage","backgroundSize","responseSuccess","googleUser","me","isSignedIn","responseFail","response","google_login_default","clientId","onSuccess","onFailure","Splash","Redirect","to","components_Auth_Login","ProtectedRoute","rest","objectWithoutProperties","Route","ReactDOM","initialState","_useReducer","useReducer","_useReducer2","BrowserRouter","store","Provider","Switch","src_ProtectedRoute","exact","path","App","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.94046646.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bckgrnd.e97d3ed8.jpg\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { createContext } from 'react';\r\n\r\nconst Store = createContext({\r\n  currentUser: null,\r\n  isAuth: false,\r\n  draft: null,\r\n  mapTheme: 'streets-v10',\r\n  pins: [],\r\n  currentPin: null\r\n})\r\n\r\nexport default Store;","export const LOGIN_USER = \"LOGIN_USER\";\r\nexport const IS_LOGGED_IN = \"IS_LOGGED_IN\";\r\nexport const SIGNOUT_USER = \"SIGNOUT_USER\";\r\nexport const SET_THEME = \"SET_THEME\";\r\n\r\nexport const CREATE_DRAFT = \"CREATE_DRAFT\";\r\nexport const UPDATE_DRAFT = \"UPDATE_DRAFT\";\r\nexport const REMOVE_DRAFT = \"REMOVE_DRAFT\";\r\n\r\nexport const GET_PINS = \"GET_PINS\";\r\nexport const CREATE_PIN = \"CREATE_PIN\";\r\nexport const SET_PIN = \"SET_PIN\";\r\nexport const DELETE_PIN = \"DELETE_PIN\";","import {\r\n  LOGIN_USER,\r\n  IS_LOGGED_IN,\r\n  SIGNOUT_USER,\r\n  SET_THEME,\r\n  CREATE_DRAFT,\r\n  UPDATE_DRAFT,\r\n  REMOVE_DRAFT,\r\n  GET_PINS,\r\n  CREATE_PIN,\r\n  SET_PIN,\r\n  DELETE_PIN\r\n} from './action-types';\r\n\r\nexport default function reducer(state, action) {\r\n  switch (action.type) {\r\n    case LOGIN_USER:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload\r\n      }\r\n    case IS_LOGGED_IN:\r\n      return {\r\n        ...state,\r\n        isAuth: action.payload\r\n      }\r\n    case SIGNOUT_USER:\r\n      return {\r\n        ...state,\r\n        isAuth: false,\r\n        currentUser: null\r\n      }\r\n    case SET_THEME:\r\n      return {\r\n        ...state,\r\n        mapTheme: action.payload\r\n      }\r\n    case CREATE_DRAFT:\r\n      return {\r\n        ...state,\r\n        currentPin: null,\r\n        draft: {\r\n          latitude: 0,\r\n          longitude: 0\r\n        }\r\n      }\r\n    case UPDATE_DRAFT:\r\n      return {\r\n        ...state,\r\n        draft: action.payload\r\n      }\r\n    case REMOVE_DRAFT:\r\n      return {\r\n        ...state,\r\n        draft: null\r\n      }\r\n    case GET_PINS:\r\n      return {\r\n        ...state,\r\n        pins: action.payload\r\n      }\r\n    case CREATE_PIN:\r\n      const newPin = action.payload;\r\n      const prevPins = state.pins.filter(pin => pin._id !== newPin._id)\r\n      return {\r\n        ...state,\r\n        pins: [...prevPins, newPin]\r\n      }\r\n    case SET_PIN:\r\n      return {\r\n        ...state,\r\n        currentPin: action.payload,\r\n        draft: null\r\n      }\r\n    case DELETE_PIN:\r\n      const filteredPins = state.pins.filter(pin => pin._id !== action.payload._id)\r\n      return {\r\n        ...state,\r\n        pins: filteredPins,\r\n        currentPin: null\r\n      }\r\n    default:\r\n      {\r\n        return state;\r\n      }\r\n  }\r\n}","import React from \"react\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport lime from \"@material-ui/core/colors/lime\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\n// A theme with custom primary and secondary color.\r\n// It's optional.\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    secondary: lime,\r\n    primary: {\r\n      light: grey[900],\r\n      main: grey[900],\r\n      dark: grey[900]\r\n    }\r\n  },\r\n});\r\n\r\nfunction withRoot(Component) {\r\n  function WithRoot(props) {\r\n    return (\r\n      <MuiThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        <Component {...props} />\r\n      </MuiThemeProvider>\r\n    );\r\n  }\r\n\r\n  return WithRoot;\r\n}\r\n\r\nexport default withRoot;\r\n","import React, { useContext } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport { GoogleLogout } from 'react-google-login';\r\n\r\nimport { SIGNOUT_USER } from '../../store/action-types';\r\n\r\nimport Store from '../../store/store';\r\n\r\nconst Signout = ({ classes }) => {\r\n  const { dispatch } = useContext(Store);\r\n\r\n  const onSignout = () => {\r\n    dispatch({\r\n      type: SIGNOUT_USER\r\n    })\r\n  }\r\n\r\n  return (\r\n    <GoogleLogout\r\n      onLogoutSuccess={onSignout}\r\n      render={({ onClick }) => (\r\n        <span className={classes.root} onClick={onClick} >\r\n          <ExitToAppIcon className=\"logout\" />\r\n        </span>\r\n      )}\r\n    />\r\n  )\r\n};\r\n\r\nconst styles = {\r\n  root: {\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n  },\r\n  buttonText: {\r\n    color: \"orange\",\r\n    marginLeft: '10px',\r\n  },\r\n  buttonIcon: {\r\n    marginLeft: \"5px\",\r\n    color: \"orange\"\r\n  }\r\n};\r\n\r\nexport default withStyles(styles)(Signout);\r\n","import React, { useContext } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Terrain from \"@material-ui/icons/Terrain\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport Store from '../store/store';\r\nimport Signout from '../components/Auth/Signout';\r\n\r\nconst Header = ({ classes }) => {\r\n  const { state } = useContext(Store);\r\n  const { currentUser } = state;\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <div className={classes.grow}>\r\n            <Terrain className={classes.icon} />\r\n            <Typography\r\n              component=\"h1\"\r\n              variant=\"h6\"\r\n              color=\"inherit\"\r\n              noWrap\r\n            >\r\n              Susreti\r\n            </Typography>\r\n          </div>\r\n          {\r\n            currentUser && (\r\n              <div className={classes.right}>\r\n                <Typography\r\n                  component=\"h1\"\r\n                  variant=\"h6\"\r\n                  color=\"inherit\"\r\n                  noWrap\r\n                >\r\n                  {currentUser.name}\r\n                </Typography>\r\n                <img src={currentUser.picture} className={classes.picture} alt={currentUser.name} />\r\n                <Signout />\r\n              </div>\r\n            )\r\n          }\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  grow: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  right: {\r\n    marginLeft: 'auto',\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing.unit,\r\n    color: \"var(--main)\",\r\n    fontSize: 45\r\n  },\r\n  mobile: {\r\n    display: \"none\"\r\n  },\r\n  picture: {\r\n    height: \"50px\",\r\n    borderRadius: \"90%\",\r\n    marginLeft: theme.spacing.unit * 2,\r\n    marginRight: theme.spacing.unit * 2\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(Header);\r\n","const config = {\r\n  URL: `${process.env.NODE_ENV === 'production' ? '' : 'http://localhost:4000'}`,\r\n  CLIENT_ID: \"774156785777-6vliuclbbliomji2koo4j2lq56hndvie.apps.googleusercontent.com\",\r\n  MAP_TOKEN: \"pk.eyJ1IjoiZGFydHh4cSIsImEiOiJjandjajI3MzUwZ3E4NDludWtmMGRyb25sIn0.egg5wrCe2G4aDyMfMZESCQ\",\r\n  IMG_CLOUD_NAME: 'dqnzuius4',\r\n  IMG_CLOUD_URL: 'https://api.cloudinary.com/v1_1/dqnzuius4/image/upload',\r\n  ADMIN_ID:'5cec67795ee37545bc543f6d'\r\n}\r\n\r\nexport default config;","import { useState, useEffect } from \"react\";\r\nimport { GraphQLClient } from 'graphql-request';\r\nimport config from './config';\r\n\r\nexport const useClient = () => {\r\n  const [token, setToken] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const tokenId = window.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().id_token;\r\n    setToken(tokenId)\r\n  }, []);\r\n\r\n  return new GraphQLClient(`${config.URL}/graphql`, {\r\n    headers: { authorization: token }\r\n  })\r\n}","import React from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport ExploreIcon from \"@material-ui/icons/Explore\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst NoContent = ({ classes }) => (\r\n  <div className={classes.root}>\r\n    <ExploreIcon className={classes.icon} />\r\n    <Typography\r\n      noWrap\r\n      component=\"h2\"\r\n      variant=\"h6\"\r\n      gutterBottom\r\n    >\r\n      Click on Map to ad a Pin\r\n    </Typography>\r\n  </div>\r\n);\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    marginTop: '150px',\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\"\r\n  },\r\n  icon: {\r\n    margin: theme.spacing.unit,\r\n    fontSize: \"80px\",\r\n    color: \"var(--main)\"\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(NoContent);\r\n","import React, { useState, useContext } from \"react\";\r\nimport axios from 'axios';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport format from 'date-fns/format';\r\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhotoTwoTone\";\r\nimport LandscapeIcon from \"@material-ui/icons/LandscapeOutlined\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport SaveIcon from \"@material-ui/icons/SaveTwoTone\";\r\n\r\nimport Store from '../../store/store';\r\nimport { REMOVE_DRAFT, CREATE_PIN } from '../../store/action-types';\r\nimport { useClient } from '../../client';\r\n\r\nimport { CREATE_PIN_MUTATION } from '../../graphql/mutations';\r\n\r\nimport config from '../../config';\r\n\r\nconst CreatePin = ({ classes }) => {\r\n  const { state, dispatch } = useContext(Store);\r\n  const [title, setTitle] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [eventDate, setEventDate] = useState('');\r\n  const [submiting, setSubmiting] = useState(false);\r\n  const client = useClient();\r\n\r\n  const handleSubmit = async e => {\r\n    try {\r\n      e.preventDefault();\r\n      setSubmiting(true);\r\n      const { latitude, longitude } = state.draft;\r\n      const url = await handleImageUpload();\r\n      const preparedData = {\r\n        title,\r\n        content,\r\n        image: url,\r\n        latitude,\r\n        longitude,\r\n        eventDate\r\n      }\r\n      const { createPin } = await client.request(CREATE_PIN_MUTATION, preparedData);\r\n      dispatch({ type: CREATE_PIN, payload: createPin })\r\n      // console.log('pin', { createPin });\r\n      handleDiscardDraft();\r\n    } catch (error) {\r\n      setSubmiting(false);\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  const handleDiscardDraft = () => {\r\n    setTitle('');\r\n    setImage('');\r\n    setContent('');\r\n    dispatch({ type: REMOVE_DRAFT });\r\n  }\r\n\r\n  const handleImageUpload = async () => {\r\n    const data = new FormData();\r\n    data.append('file', image);\r\n    data.append('upload_preset', 'airsoft');\r\n    data.append('cloud_name', config.IMG_CLOUD_NAME)\r\n    const res = await axios.post(config.IMG_CLOUD_URL, data);\r\n    return res.data.url\r\n  }\r\n\r\n  return (\r\n    <form className={classes.form}>\r\n      <Typography\r\n        className={classes.alignCenter}\r\n        component=\"h2\"\r\n        variant=\"h4\"\r\n        color=\"secondary\"\r\n      >\r\n        <LandscapeIcon className={classes.iconLarge} />Pin Location\r\n    </Typography>\r\n      <div>\r\n        <TextField\r\n          name=\"title\"\r\n          label=\"title\"\r\n          placeholder=\"Dodaj Title\"\r\n          onChange={e => setTitle(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          id=\"image\"\r\n          className={classes.input}\r\n          onChange={e => setImage(e.target.files[0])}\r\n        />\r\n        <label htmlFor=\"image\">\r\n          <Button\r\n            component=\"span\"\r\n            size=\"small\"\r\n            style={{ color: image && '#c6ff00' }}\r\n            className={classes.button}\r\n          >\r\n            <AddAPhotoIcon />\r\n          </Button>\r\n        </label>\r\n        <div className={classes.contentField}>\r\n          <TextField\r\n            name=\"content\"\r\n            label=\"Content\"\r\n            multiline\r\n            rows=\"6\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            placeholder=\"Dodaj Title\"\r\n            onChange={e => setContent(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <TextField\r\n            id=\"eventDate\"\r\n            label=\"Vreme Susreta\"\r\n            type=\"datetime-local\"\r\n            defaultValue={format(new Date(), 'YYYY-MM-DDTHH:mm')}\r\n            className={classes.textField}\r\n            onChange={e => setEventDate(e.target.value)}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Button\r\n            component=\"span\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            className={classes.button}\r\n            onClick={handleDiscardDraft}\r\n          >\r\n            <ClearIcon className={classes.leftIcon} />\r\n            Discard\r\n          </Button>\r\n          <Button\r\n            type=\"submit\"\r\n            component=\"span\"\r\n            color=\"secondary\"\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            className={classes.button}\r\n            disabled={!title.trim() || !content.trim() || !image || submiting}\r\n            onClick={handleSubmit}\r\n          >\r\n            Submit\r\n            <SaveIcon className={classes.rightIcon} />\r\n\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n    paddingBottom: theme.spacing.unit,\r\n    marginTop: '20px',\r\n  },\r\n  contentField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: \"95%\"\r\n  },\r\n  input: {\r\n    display: \"none\"\r\n  },\r\n  alignCenter: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  iconLarge: {\r\n    fontSize: 40,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n  leftIcon: {\r\n    fontSize: 20,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n  rightIcon: {\r\n    fontSize: 20,\r\n    marginLeft: theme.spacing.unit\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit * 2,\r\n    marginBottom: theme.spacing.unit * 2,\r\n    marginRight: theme.spacing.unit,\r\n    marginLeft: 0\r\n  },\r\n  textField: {\r\n    width: '100 %'\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(CreatePin);\r\n","export const CREATE_PIN_MUTATION = `\r\n  mutation(\r\n    $title: String!,\r\n    $image: String!,\r\n    $content: String!,\r\n    $latitude: Float!,\r\n    $longitude: Float!,\r\n    $eventDate: String!,\r\n    ) {\r\n      createPin(input: {\r\n        title: $title,\r\n        image: $image,\r\n        content: $content,\r\n        latitude: $latitude,\r\n        longitude: $longitude,\r\n        eventDate: $eventDate\r\n      }) {\r\n        _id\r\n        createdAt\r\n        title\r\n        content\r\n        image\r\n        latitude\r\n        longitude\r\n        eventDate\r\n        author {\r\n          _id\r\n          name\r\n          email\r\n          picture\r\n        }\r\n      }\r\n    }\r\n`\r\n\r\nexport const DELETE_PIN_MUTATION = `\r\n  mutation($pinId: ID!) {\r\n    deletePin(pinId: $pinId) {\r\n      _id\r\n    }\r\n  }\r\n`","import React, { useContext } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport AccessTime from \"@material-ui/icons/AccessTime\";\r\nimport Face from \"@material-ui/icons/Face\";\r\n\r\nimport Store from '../../store/store';\r\n\r\nconst PinContent = ({ classes }) => {\r\n  return <div>PinContent</div>;\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    padding: \"1em 0.5em\",\r\n    textAlign: \"center\",\r\n    width: \"100%\"\r\n  },\r\n  icon: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n  text: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(PinContent);\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport Store from '../store/store';\r\nimport { SET_THEME } from '../store/action-types';\r\nimport NoContent from './Pin/NoContent';\r\nimport CreatePin from './Pin/CreatePin';\r\nimport PinContent from './Pin/PinContent';\r\n\r\nconst Blog = ({ classes }) => {\r\n  const { state, dispatch } = useContext(Store);\r\n  const { draft, mapTheme, currentPin } = state;\r\n\r\n  let BlogContent;\r\n  if (!draft && !currentPin) {\r\n    BlogContent = NoContent;\r\n  }\r\n  if (draft && !currentPin) {\r\n    BlogContent = CreatePin;\r\n  }\r\n\r\n  if (!draft && currentPin) {\r\n    BlogContent = PinContent\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserTheme()\r\n  }, []);\r\n\r\n  const getUserTheme = () => {\r\n    const theme = localStorage.getItem(\"theme\");\r\n    if (theme) {\r\n      dispatch({ type: SET_THEME, payload: theme });\r\n    }\r\n  }\r\n\r\n  const setUserTheme = (theme) => {\r\n    localStorage.setItem(\"theme\", theme);\r\n  }\r\n\r\n  const changeTheme = (event) => {\r\n    dispatch({ type: SET_THEME, payload: event.target.value });\r\n    setUserTheme(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.root}>\r\n      <BlogContent />\r\n      <div className=\"blog-footer\">\r\n        <p>Set Theme for map</p>\r\n        <Radio\r\n          checked={mapTheme === 'streets-v10'}\r\n          onChange={changeTheme}\r\n          value='streets-v10'\r\n          name=\"radio-button-demo\"\r\n          aria-label=\"A\"\r\n        />\r\n        <Radio\r\n          checked={mapTheme === 'outdoors-v10'}\r\n          onChange={changeTheme}\r\n          value='outdoors-v10'\r\n          name=\"radio-button-demo\"\r\n          aria-label=\"B\"\r\n        />\r\n        <Radio\r\n          checked={mapTheme === 'light-v9'}\r\n          onChange={changeTheme}\r\n          value='light-v9'\r\n          name=\"radio-button-demo\"\r\n          aria-label=\"C\"\r\n        />\r\n        <Radio\r\n          checked={mapTheme === 'dark-v9'}\r\n          onChange={changeTheme}\r\n          value='dark-v9'\r\n          name=\"radio-button-demo\"\r\n          aria-label=\"D\"\r\n        />\r\n        <Radio\r\n          checked={mapTheme === 'satellite-v9'}\r\n          onChange={changeTheme}\r\n          value='satellite-v9'\r\n          name=\"radio-button-demo\"\r\n          aria-label=\"E\"\r\n        />\r\n        <Radio\r\n          checked={mapTheme === 'satellite-streets-v10'}\r\n          onChange={changeTheme}\r\n          value='satellite-streets-v10'\r\n          name=\"radio-button-demo\"\r\n          aria-label=\"F\"\r\n        />\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  root: {\r\n    minWidth: 350,\r\n    maxWidth: 400,\r\n    maxHeight: \"calc(100vh - 64px)\",\r\n    overflowY: \"scroll\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: '#323232'\r\n  },\r\n  footer: {\r\n    marginTop: 'auto'\r\n  },\r\n  rootMobile: {\r\n    maxWidth: \"100%\",\r\n    maxHeight: 300,\r\n    overflowX: \"hidden\",\r\n    overflowY: \"scroll\"\r\n  }\r\n};\r\n\r\nexport default withStyles(styles)(Blog);\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport ReactMapGl, { NavigationControl, Marker, Popup } from 'react-map-gl';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport format from 'date-fns/format';\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DeleteIcon from \"@material-ui/icons/DeleteTwoTone\";\r\nimport NotListedLocationIcon from \"@material-ui/icons/NotListedLocation\";\r\nimport PlaceIcon from \"@material-ui/icons/Place\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\n\r\nimport { useClient } from '../client';\r\nimport { GET_PINS_QUERY } from '../graphql/queries';\r\n\r\nimport Store from '../store/store';\r\nimport { DELETE_PIN_MUTATION } from '../graphql/mutations';\r\nimport { CREATE_DRAFT, UPDATE_DRAFT, GET_PINS, SET_PIN, DELETE_PIN } from '../store/action-types';\r\n\r\nimport Blog from './Blog';\r\n\r\nimport config from '../config';\r\n\r\nconst INITIAL_VIEWPORT = {\r\n  latitude: 45.005210,\r\n  longitude: 19.816196,\r\n  zoom: 7\r\n}\r\n\r\n\r\nconst Map = ({ classes }) => {\r\n  const client = useClient();\r\n  const { state, dispatch } = useContext(Store);\r\n\r\n  useEffect(() => {\r\n    getPins()\r\n  }, []);\r\n\r\n  const [viewport, setViewport] = useState(INITIAL_VIEWPORT)\r\n  const [userPosition, setUserPosition] = useState(null);\r\n  const { mapTheme } = state;\r\n\r\n  useEffect(() => {\r\n    getUserPosition()\r\n  }, []);\r\n\r\n  const [popup, setPopup] = useState(null)\r\n\r\n\r\n  const getPins = async () => {\r\n    const { getPins } = await client.request(GET_PINS_QUERY);\r\n    dispatch({ type: GET_PINS, payload: getPins });\r\n  }\r\n\r\n  const getUserPosition = () => {\r\n    if ('geolocation' in navigator) {\r\n      navigator.geolocation.getCurrentPosition(position => {\r\n        const { latitude, longitude } = position.coords;\r\n        setViewport({ ...viewport, latitude, longitude });\r\n        setUserPosition({ latitude, longitude });\r\n      })\r\n    }\r\n  }\r\n\r\n  const highlightPinColor = pin => {\r\n    const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\r\n    const diffDays = Math.round(Math.abs((new Date(pin.eventDate * 1).getTime() - new Date().getTime()) / (oneDay)));\r\n    if (new Date(pin.eventDate * 1) < new Date()) {\r\n      return '--light'\r\n    }\r\n    return diffDays <= 7 ? 'var(--main)' : 'var(--focus)';\r\n  }\r\n\r\n  const handleSelectedPin = pin => {\r\n    setPopup(pin);\r\n    dispatch({ type: SET_PIN, payload: pin })\r\n  }\r\n\r\n  const handleDeletePin = async pin => {\r\n    const pinToDelete = { pinId: pin._id };\r\n    const { deletePin } = await client.request(DELETE_PIN_MUTATION, pinToDelete)\r\n    dispatch({ type: DELETE_PIN, payload: deletePin })\r\n    setPopup(null);\r\n  }\r\n\r\n  const isAuthUser = () => {\r\n    console.log(state.currentUser._id, config.ADMIN_ID);\r\n    return state.currentUser._id === popup.author._id || state.currentUser._id === config.ADMIN_ID\r\n  };\r\n\r\n  const userMarker = () => (\r\n    <Marker\r\n      latitude={userPosition.latitude}\r\n      longitude={userPosition.longitude}\r\n      offsetLeft={-19}\r\n      offsetTop={-37}\r\n    >\r\n      <HomeIcon style={{\r\n        fontSize: 40,\r\n        color: `var(--white)`\r\n      }} />\r\n    </Marker>\r\n  )\r\n\r\n  const draftMarker = () => (\r\n    <Marker\r\n      latitude={state.draft.latitude}\r\n      longitude={state.draft.longitude}\r\n      offsetLeft={-19}\r\n      offsetTop={-37}\r\n    >\r\n      <NotListedLocationIcon style={{\r\n        fontSize: 40,\r\n        color: `var(--focus)`\r\n      }}\r\n      />\r\n    </Marker>\r\n  )\r\n\r\n  const eventMarker = pin => {\r\n    const color = highlightPinColor(pin);\r\n    return (\r\n      <Marker\r\n        key={pin._id}\r\n        latitude={pin.latitude}\r\n        longitude={pin.longitude}\r\n        offsetLeft={-19}\r\n        offsetTop={-37}\r\n      >\r\n        <PlaceIcon\r\n          onClick={() => handleSelectedPin(pin)}\r\n          style={{\r\n            fontSize: 40,\r\n            color\r\n          }}\r\n        />\r\n      </Marker>\r\n    )\r\n  }\r\n\r\n  const handleMapClick = ({ lngLat, leftButton }) => {\r\n    console.log(lngLat, leftButton);\r\n\r\n    if (!leftButton) return;\r\n    if (!state.draft) {\r\n      dispatch({\r\n        type: CREATE_DRAFT\r\n      })\r\n    }\r\n\r\n    const [longitude, latitude] = lngLat;\r\n    dispatch({\r\n      type: UPDATE_DRAFT,\r\n      payload: { longitude, latitude }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ReactMapGl\r\n        mapboxApiAccessToken={config.MAP_TOKEN}\r\n        width=\"100vw\"\r\n        height=\"calc(100vh - 64px)\"\r\n        mapStyle={`mapbox://styles/mapbox/${mapTheme}`}\r\n        onViewportChange={viewport => setViewport(viewport)}\r\n        onClick={handleMapClick}\r\n        {...viewport}\r\n      >\r\n        <div className={classes.navigationControl}>\r\n          <NavigationControl onViewportChange={viewport => setViewport(viewport)} />\r\n        </div>\r\n        {\r\n          userPosition && userMarker()\r\n        }\r\n        {\r\n          state.draft && draftMarker()\r\n        }\r\n\r\n        {/* Render Pins */}\r\n        {\r\n          state.pins && state.pins.map(pin => (\r\n            eventMarker(pin)\r\n          ))\r\n        }\r\n\r\n        {/* Popup */}\r\n        {\r\n          popup && (\r\n            <Popup\r\n              anchor=\"top\"\r\n              latitude={popup.latitude}\r\n              longitude={popup.longitude}\r\n              closeOnClick={false}\r\n              onClose={() => setPopup(null)}\r\n            >\r\n              <img className={classes.popupImage} src={popup.image} alt={popup.title} />\r\n              <div className=\"popup-style\">\r\n                <h4>{popup.title}</h4>\r\n                <p className=\"popup-label\">Date</p>\r\n                <p>{format(new Date(popup.eventDate * 1), 'MM/DD/YYYY/hh:m')}</p>\r\n                <p className=\"popup-label\">Coordinates</p>\r\n                <p>{popup.latitude.toFixed(6)} - {popup.longitude.toFixed(6)}</p>\r\n                <div className=\"popup-footer\">\r\n                  {\r\n                    isAuthUser() && (\r\n\r\n                      <Button onClick={() => handleDeletePin(popup)}>\r\n                        <DeleteIcon className={classes.deleteIcon} />\r\n                      </Button>\r\n                    )\r\n                  }\r\n                  <Button\r\n                    component=\"span\"\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                  >\r\n                    <CancelIcon className={classes.deleteIcon} onClick={() => setPopup(null)} />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Popup>\r\n          )\r\n        }\r\n      </ReactMapGl>\r\n\r\n      <Blog />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  root: {\r\n    display: \"flex\"\r\n  },\r\n  rootMobile: {\r\n    display: \"flex\",\r\n    flexDirection: \"column-reverse\"\r\n  },\r\n  navigationControl: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    margin: \"1em\"\r\n  },\r\n  deleteIcon: {\r\n    color: \"red\"\r\n  },\r\n  popupImage: {\r\n    padding: \"0.4em\",\r\n    height: 200,\r\n    width: '100%',\r\n    maxWidth: '320px',\r\n    objectFit: \"cover\"\r\n  },\r\n  popupTab: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"column\"\r\n  }\r\n};\r\n\r\nexport default withStyles(styles)(Map);\r\n","export const ME_QUERY = `\r\n{\r\n  me {\r\n    _id\r\n    name\r\n    email\r\n    picture\r\n    admin\r\n  }\r\n}\r\n`\r\n\r\nexport const GET_PINS_QUERY = `\r\n{\r\n  getPins {\r\n    _id\r\n    createdAt\r\n    title\r\n    content\r\n    image\r\n    latitude\r\n    longitude\r\n    eventDate\r\n    author {\r\n      _id\r\n      name\r\n      email\r\n      picture\r\n    }\r\n    comments {\r\n      text\r\n      createdAt\r\n      author {\r\n        _id\r\n        name\r\n        email\r\n        picture\r\n      }\r\n    }\r\n  }\r\n}\r\n`","import React from \"react\";\r\nimport withRoot from \"../withRoot\";\r\n\r\nimport Header from '../components/Header';\r\nimport Map from '../components/Map';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Map />\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default withRoot(App);\r\n","import React, { useContext } from \"react\";\r\nimport { GraphQLClient } from 'graphql-request';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport GoogleLogin from 'react-google-login';\r\n\r\nimport Store from '../../store/store';\r\nimport config from '../../config';\r\n\r\nimport { LOGIN_USER, IS_LOGGED_IN } from '../../store/action-types';\r\nimport { ME_QUERY } from '../../graphql/queries';\r\n\r\nimport './Login.scss';\r\n\r\nimport backgroundImage from '../../assets/images/bckgrnd.jpg';\r\n\r\nconst Login = ({ classes }) => {\r\n  const { dispatch } = useContext(Store);\r\n\r\n  const responseSuccess = async googleUser => {\r\n    try {\r\n      const token = googleUser.getAuthResponse().id_token;\r\n      const client = new GraphQLClient(`${config.URL}/graphql`, {\r\n        headers: { authorization: token }\r\n      })\r\n      const { me } = await client.request(ME_QUERY);\r\n      dispatch({ type: LOGIN_USER, payload: me })\r\n      dispatch({ type: IS_LOGGED_IN, payload: googleUser.isSignedIn() })\r\n    } catch (error) {\r\n      responseFail(error);\r\n    }\r\n  }\r\n\r\n  const responseFail = response => console.error(response);\r\n\r\n  return (\r\n    <div className={classes.root} >\r\n      <div className=\"login-wrap\">\r\n        <div className=\"login\">\r\n          <h2 className=\"login__header\">Airsoft <span>Susreti</span></h2>\r\n          <p className=\"login__subheader\">Spisak Airsoft susreta</p>\r\n          <GoogleLogin\r\n            clientId={config.CLIENT_ID}\r\n            buttonText=\"Login with your Gmail\"\r\n            onSuccess={responseSuccess}\r\n            onFailure={responseFail}\r\n            theme=\"Light\"\r\n            isSignedIn={true}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst styles = {\r\n  root: {\r\n    height: \"100vh\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    backgroundImage: `linear-gradient(0deg, rgba(2, 2, 2, 0.9) 0%, rgba(255,255,255,.3) 70%), url(${backgroundImage})`,\r\n    backgroundSize: 'cover',\r\n  },\r\n};\r\n\r\nexport default withStyles(styles)(Login);\r\n","import React, { useContext } from \"react\";\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport Login from '../components/Auth/Login';\r\nimport Store from '../store/store';\r\n\r\nconst Splash = () => {\r\n  const { state } = useContext(Store);\r\n  return state.isAuth ? <Redirect to=\"/\" /> : <Login />;\r\n};\r\n\r\nexport default Splash;\r\n","import React, { useContext } from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport Store from './store/store';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n  const { state } = useContext(Store);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => !state.isAuth ? <Redirect to='/login' /> : <Component {...props} />}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","import React, { useContext, useReducer } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport Store from './store/store';\r\nimport reducer from './store/reducer';\r\n\r\nimport App from \"./pages/App\";\r\nimport Splash from \"./pages/Splash\";\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nimport './assets/style.scss';\r\n\r\nconst Root = () => {\r\n  const initialState = useContext(Store);\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  console.log(state);\r\n\r\n  return (\r\n    <Router>\r\n      <Store.Provider value={{ state, dispatch }}>\r\n        <Switch>\r\n          <ProtectedRoute exact path=\"/\" component={App} />\r\n          <Route path=\"/login\" component={Splash} />\r\n        </Switch>\r\n      </Store.Provider>\r\n    </Router>\r\n  );\r\n};\r\n\r\nReactDOM.render(<Root />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}